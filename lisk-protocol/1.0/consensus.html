<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lisk Documentation :: Lisk Docs Demo Site</title>
    <link rel="canonical" href="http://104.248.38.54/lisk-protocol/1.1/consensus.html">
    <meta name="generator" content="Antora 2.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<!--
    <link href="https://unpkg.com/primer/build/build.css" rel="stylesheet">
-->

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a href="http://104.248.38.54" class="lisk-logo"></a>
      Lisk Docs Demo Site
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk">Lisk SDK Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-core">Lisk Core Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-hub">Lisk Hub Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-mobile">Lisk Mobile Github</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-explorer">Lisk Explorer Github</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Lisk Mainnet Explorer</a>
            <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Lisk Testnet Explorer</a>
            <a class="navbar-item" target="_blank" href="https://testnet-faucet.lisk.io/">Lisk Testnet Faucet</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://lisk.io">Lisk Website</a>
            <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk-examples">Example blockchain applications</a>
              <a class="navbar-item" target="_blank" href="https://www.liskdiscovery.com/">Community tools</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="lisk-protocol" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="introduction.html">Lisk Protocol</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="blocks.html">Blocks</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="consensus.html">Consensus</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="p2p-communication.html">Peer-to-Peer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="transactions.html">Tansactions</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Protocol</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-core/index.html">2.1.3 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-core/2.0/introduction.html">2.0.2</a>
        </li>
        <li class="version">
          <a href="../../lisk-core/1.6/introduction.html">1.6.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk Protocol</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../1.1/index.html">1.1</a>
        </li>
        <li class="version is-current">
          <a href="introduction.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-sdk/index.html">2.3.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/2.2/introduction.html">2.2.0</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/2.1/introduction.html">2.1.0</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/2.0/introduction.html">2.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../lisk-sdk/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="introduction.html">Lisk Protocol</a></li>
    <li><a href="consensus.html">Consensus</a></li>
  </ul>
</nav>
<button class="toc-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.0</button>
  <div class="version-menu">
    <a class="version" href="../1.1/consensus.html">1.1</a>
    <a class="version is-current" href="consensus.html">1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-protocol-1.0/modules/ROOT/pages/consensus.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
<div class="sect1">
<h2 id="_lisks_consensus_algorithm"><a class="anchor" href="#_lisks_consensus_algorithm"></a>Lisk’s Consensus Algorithm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lisk uses Delegated Proof of Stake
(<a href="https://lisk.io/academy/blockchain-basics/how-does-blockchain-work/delegated-proof-of-stake/">DPoS</a>)
as its consensus protocol.</p>
</div>
<div class="paragraph">
<p>Delegates generate all of the blocks within the system and are elected
by the stakeholders, in this case all entities holding LSK tokens. The
number of delegates is fixed at 101. Each stakeholder can vote for up to
101 delegates, and the weight of the vote depends on the amount of LSK
the stakeholder possesses. Any stakeholder can vote for a delegate using
a vote transaction.</p>
</div>
<div class="paragraph">
<p><a href="https://lisk.io/academy/blockchain-basics/how-does-blockchain-work/consensus-protocols/">Consensus</a>
is a key aspect of any blockchain system. It serves a vital purpose in a
system where there are countless nodes and all nodes need to agree on
the integrity of the data that is being recorded on a blockchain.</p>
</div>
<div class="sect2">
<h3 id="_delegates"><a class="anchor" href="#_delegates"></a>Delegates</h3>
<div class="paragraph">
<p>A delegate is a type of account that has registered using a delegate
registration transaction as described in
<a href="transactions.md"><strong>transactions</strong></a>. These accounts have a key role in
the Lisk ecosystem as they generate blocks and validate transactions.
Any account can become a delegate, but only the 101 accounts with the
most votes weighted by stake are allowed to generate blocks.</p>
</div>
</div>
<div class="sect2">
<h3 id="_delegate_round"><a class="anchor" href="#_delegate_round"></a>Delegate Round</h3>
<div class="paragraph">
<p>For every round, there is a fixed order of delegates, and 10 s time
slots for forging blocks are assigned round-robin to the delegates
according to this list until 101 blocks have been forged. This means
that if all delegates manage to forge in their time slot, every delegate
has exactly one time slot to forge a block in that round. In case one
delegate misses its time slot, then the 102nd time slot of the round is
allocated to the first delegate of the list. In order to forge a block,
the node associated with the delegate inserts up to 25 transactions into
the block, signs it and broadcasts that block to the network. Once the
block has reached the network, the next delegate will begin to forge in
the next assigned slot.</p>
</div>
</div>
<div class="sect2">
<h3 id="_broadhash_consensus"><a class="anchor" href="#_broadhash_consensus"></a>Broadhash Consensus</h3>
<div class="paragraph">
<p>Broadhash consensus serves a vital function in the Lisk network in
preventing forks. The broadhash of a node is defined as an aggregated
rolling hash of the past five blocks present in the node’s database.
Thus all peers with the same last blocks will produce the same broadhash
and propagate that information via the system headers described in
<a href="p2p-communication.md"><strong>peer-to-peer communication</strong></a>. Broadhash
consensus is established if 51 out of 100 randomly selected peers
connected to a node maintain the same broadhash. Delegates use the
broadhash consensus as a guidance strategy to generate the block. Once
broadhash consensus is established a delegate will generate a block in
their assigned slot as described above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_block_rewards"><a class="anchor" href="#_block_rewards"></a>Block Rewards</h3>
<div class="paragraph">
<p>As with Bitcoin, and essentially ever other blockchain systems, Lisk
rewards the block generator a fixed amount of tokens for each block
successfully generated and accepted by the system. In Lisk’s system, all
active delegates that successfully participate are rewarded for securing
the network.</p>
</div>
<div class="paragraph">
<p>The timeline for these block rewards are represented in the following
table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Reward</th>
<th class="tableblock halign-left valign-top">Milestone</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 LSK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Reward reduction begins at block 1,451,520</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 LSK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milestone 1 begins at block 4,451,520</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 LSK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milestone 2 begins at block 7,451,520</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 LSK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milestone 3 begins at block 10,451,520</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 LSK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milestone 4 begins at block 13,451,520</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Which can be found as constants in the code as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// Block Reward Reduction
milestones: [
500000000, // Initial Reward begins at block 1,451,520
400000000, // Milestone 1 begins at block 4,451,520
300000000, // Milestone 2 begins at block 7,451,520
200000000, // Milestone 3 begins at block 10,451,520
100000000 // Milestone 4 begins at block 13,451,520
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The block reward linearly decreases over the lifetime of the network,
providing significant incentive to actively participate as an active
delegate. The reward will decrease every 3,000,000 blocks from the
initial reward block.</p>
</div>
</div>
<div class="sect2">
<h3 id="_round_fees"><a class="anchor" href="#_round_fees"></a>Round Fees</h3>
<div class="paragraph">
<p>The second incentive provided by the system comes in the form of round
fees. A delegate round, described above, comes to a close after the
number of specified blocks have been generated. During the closure
process, all transactional fees are aggregated and subsequently split
between all active participants in the round. These fees can provide
reward for each participant apart from the block generation reward,
provided there is significant transactional activity in the system.</p>
</div>
<div class="paragraph">
<p>It is possible for a delegate to forge more than one block within a
single round earning more block rewards. In most circumstances this will
not occur, however occasionally a delegate node may be offline during
the delegate’s assigned slot and subsequently will not generate a block.
This forces another delegate to step in and generate the block at the
end of the round.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">On this page:</h3>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
  <p>Go to the <a href="https://lisk.io/" target="_blank">Lisk Website</a></p>
  <p>Chat with developers at <a href="https://gitter.im/LiskHQ/lisk-sdk" target="_blank">Lisk Gitter</a></p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3',
        collapseDepth: 6,
        positionFixedSelector: null,
        scrollSmooth: false
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>
  </body>
</html>
